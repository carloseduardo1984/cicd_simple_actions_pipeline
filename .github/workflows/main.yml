name:  Pipeline

on:
    
  workflow_dispatch:

jobs:
        
  deploy-dev:
    name: DEV
    runs-on: ubuntu-latest
    steps:
        - run: echo CONSTROI PROJETO INICIAL E REALIZA UNIT TESTS
      
  deploy-qa:
    name: QA
    needs: [deploy-dev]
    runs-on: ubuntu-latest
    steps:
      - run: echo APLICA INTEGRATION AND SYSTEM TEST
      
  deploy-staging:
    name: STAGE
    needs: [deploy-qa]
    runs-on: ubuntu-latest
    steps:
      - run: echo TESTES DE ACEITACAO E DOCUMENTACAO 
        
  deploy-production:
    name: PRODUCAO
    needs: [deploy-staging]
    runs-on: ubuntu-latest
    steps:
      - run: echo DEPLOY/LANCAMENTO DA VERSAO/RELEASE DO PROJETO
      
      - name: Merge master -> compiled-master
        uses: devmasx/merge-branch@v1.3.1
        with:
            type: now
            from_branch: dev
            target_branch: main
            github_token: ${{ GITHUB_TOKEN }}
